#autoconf#######################################################################
# test machine configuration file
################################################################################

################################################################################
################################################################################
BUILDSTYLE=hybrid_relay_cell_dacs

################################################################################
# CFLAGS - configure C compiler behavior
################################################################################
#CFLAGS="-Werror -Wall -pedantic -std=c99 -Wno-long-long -fno-unsafe-math-optimizations -fno-strict-aliasing -DUSE_V4_PORTABLE -D_XOPEN_SOURCE=600 -DUSE_AAIS_MP"
CFLAGS="-std=c99 -Wno-long-long -fno-unsafe-math-optimizations -fno-strict-aliasing -D_XOPEN_SOURCE=600"

################################################################################
# CXXFLAGS - configure C++ compiler behavior
################################################################################
#CXXFLAGS="-Werror -Wall -pedantic -std=c++98 -Wno-long-long -fno-unsafe-math-optimizations -fno-strict-aliasing -DUSE_V4_PORTABLE -D_XOPEN_SOURCE=600 -DUSE_AAIS_MP"
CXXFLAGS="-std=c++98 -Wno-long-long -fno-unsafe-math-optimizations -fno-strict-aliasing -D_XOPEN_SOURCE=600 -DUSE_V4_SSE"

################################################################################
# OPT_LEVEL - enable automatic optimization level (3|2|1|0|-1|-2)[0]
# warning: a value other than 0 will override options to CFLAGS and CXXFLAGS
################################################################################
OPT_LEVEL=-1

################################################################################
# CPUMODEL - specify a particular cpu model (this affects optimization)
# supported models: opteron, athlon64, pentium4, prescott, nocona, pentiumM
################################################################################
CPUMODEL=opteron

################################################################################
# EXTENSION - executable extension
################################################################################
EXTENSION=ppu

################################################################################
# ADDRESSING - configure pointer size (32|64)[32]
################################################################################
ADDRESSING=64

################################################################################
# ENABLE_SIMD - enable vector processing (0|1)[0]
################################################################################
ENABLE_SIMD=1

################################################################################
# MPI configuration
# MPI_CPPFLAGS - configure MPI preprocessor flags
# MPI_LDFLAGS - configure MPI link flags
# MPI_LIBS - configure MPI library names
################################################################################

# use mpicc from openmpi
MPI_CPPFLAGS=`mpicc --showme:compile`
MPI_LDFLAGS=`mpicc --showme:link | sed 's,-l[^ ]*,,g'`
MPI_LIBS=`mpicc --showme:link | sed 's, -[^l][^ ]*,,g;s,-pthread,,g' | sed 's, *,,' | sed 's, $,,'`

################################################################################
# ENABLE_HOST - enable host build (0|1)[1]
################################################################################
#ENABLE_HOST

################################################################################
# ENABLE_CELL - enable IBM Cell build (0|1)[0]
################################################################################
#ENABLE_CELL=1

################################################################################
# PCC - PPU compiler
################################################################################
#PCC

################################################################################
# SCC - SPU compiler
################################################################################
#SCC

################################################################################
# PPU CFLAGS - configure C compiler behavior
################################################################################
PCFLAGS="-std=c99 -Wno-long-long -fno-unsafe-math-optimizations -fno-strict-aliasing -D_XOPEN_SOURCE=600"

################################################################################
# PPU CXXFLAGS - configure C++ compiler behavior
################################################################################
PCXXFLAGS="-std=c++98 -Wno-long-long -fno-unsafe-math-optimizations -fno-strict-aliasing -DUSE_V4_PORTABLE -D_XOPEN_SOURCE=600"

################################################################################
# SPU CFLAGS - configure C compiler behavior
################################################################################
SCFLAGS="-D_XOPEN_SOURCE=600 -DCELL_SPU_BUILD -DUSE_CELL_SPUS"

################################################################################
# SPU CXXFLAGS - configure C++ compiler behavior
################################################################################
SCXXFLAGS="-D_XOPEN_SOURCE=600 -DCELL_SPU_BUILD -DUSE_CELL_SPUS"

################################################################################
# Cell MPI configuration
# PPU_MPI_CPPFLAGS - configure MPI preprocessor flags
# PPU_MPI_LDFLAGS - configure MPI link flags
# PPU_MPI_LIBS - configure MPI library names
################################################################################

# use environment variables from rr-fec
PPU_MPI_CPPFLAGS=`echo $MPI_CXX_CPPFLAGS_PPC64`
PPU_MPI_LDFLAGS=`echo $MPI_CXX_LDFLAGS_PPC64`
PPU_MPI_LIBS=`echo $MPI_CC_LDLIBS_PPC64`

################################################################################
# LIBSPE2 - libspe2 library
################################################################################
LIBSPE2="/opt/cell/sysroot/usr"

################################################################################
# IBM_SIMDMATH - simdmath library
################################################################################
IBM_SIMDMATH="/opt/cell/sysroot/usr/spu"
