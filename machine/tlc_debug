/* 
 * VPIC Written by:
 *   Kevin J. Bowers, Ph.D.
 *   Plasma Physics Group (X-1)
 *   Applied Physics Division
 *   Los Alamos National Lab
 * March/April 2004 - Heavily adapted from earlier versions of V4PIC.
 *
 */

/*
 * Machine build for TLC.  Very similar to the "pink2" and "lightning2" 
 * machine files.  
 * tlc is architecturally very similar to lightning.  
 * There is currently no mpich currently available on tlc.  
 * Note: special gcc flags are needed if we wish to do ultrabig (>2GB) file access. 
 * These flags are not currently included, but can be found in the bproc guild. 
 *
 * Machine file written by Brian Albright, May, 2005. 
 */ 

/* Tested on a patched gcc-3.3.3 and MPICH-1.2.2.2. If a patched gcc-3.x.y
   (x>=3) is not available, any ANSI-C89 and ANSI-C++98 compiler will work if
   V4 extensions are disabled (delete the "-DV4VERSION=v4_sse.hpp" option from
   CPPFLAGS or if you want to use the portable V4 library, replace
   "v4_sse.hpp" with "v4_portable.hpp"). Likewise, any MPI-1 compilant
   implementation of MPI should be sufficient to compile this code.

   To set the compilers/linkers used by mpicc/mpiCC, set the environment
   variables MPICH_CC, MPICH_CLINKER, MPICH_CCC and MPICH_CCLINKER accordingly.

   Note: strict ANSI compile options have been turned off for CPPFLAGS as
   MPICH-1.2.2.2 mpio.h has errors that trip on a strict compile (no
   "long long" in ANSI-C++98). */

/* File extension to use for libraries and executables */
#define EXTENSION tlc

/* Machine specific libraries and include directories */
LIBRARIES +=    -lmpi
INCLUDE_DIRS += -I$(MPIHOME)/include
LIBRARY_DIRS += -L$(MPIHOME)/lib

/* Which Programs to use on this machine? */
CC =  $(LAMPI_CC)
CPP = $(LAMPI_CCC)
LD =  $(LAMPI_CCLINKER)
AR = ar clq
RANLIB = ranlib
RM = rm -f

/* What compile flags should be used? */
CCFLAGS  = -Wall -pedantic -ansi -O3 -fomit-frame-pointer -ffast-math -march=pentium4 -DRESTRICT=__restrict                        -g
CPPFLAGS =                       -O3 -fomit-frame-pointer -ffast-math -march=pentium4 -DRESTRICT=__restrict -DV4VERSION=v4_sse.hpp -g
LDFLAGS  = -Wall -pedantic -ansi -O3 -fomit-frame-pointer -ffast-math -march=pentium4 -DRESTRICT=__restrict                        -g
ARFLAGS  = 

