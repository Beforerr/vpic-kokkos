Search.setIndex({"docnames": ["comp", "index", "intro", "issues", "mcnplink", "pbd", "porting", "run", "vis"], "filenames": ["comp.rst", "index.rst", "intro.rst", "issues.rst", "mcnplink.rst", "pbd.rst", "porting.rst", "run.rst", "vis.rst"], "titles": ["Compiling VPIC", "Welcome to VPIC-Kokkos\u2019s documentation!", "Introduction", "Known Issues", "Linking VPIC to MCNP", "Particle Boundary Diagnostic", "How to port user kernels to Kokkos", "Running VPIC", "Postprocessing and Visualization"], "terms": {"consist": 0, "two": [0, 5], "step": [0, 5], "find": [0, 8], "against": 0, "1": [0, 3, 4, 5, 6], "do": [0, 4, 5, 8], "recurs": 0, "clone": 0, "thi": [0, 1, 3, 4, 5, 6, 7, 8], "repo": 0, "pull": 0, "down": 0, "copi": 0, "you": [0, 3, 4, 5, 7, 8], "git": 0, "github": 0, "com": 0, "lanl": 0, "If": [0, 3, 4, 5], "switch": 0, "branch": 0, "might": [0, 4], "need": [0, 4, 6], "updat": 0, "submodul": 0, "init": 0, "2": [0, 2, 6], "load": 0, "modul": [0, 1], "your": [0, 1, 4], "mpi": [0, 3], "ani": [0, 5], "platform": 0, "specif": 0, "packag": 0, "like": [0, 4, 6], "cuda": 0, "3": [0, 3], "file": [0, 3, 4, 5], "arch": 0, "i": [0, 1, 2, 3, 4, 5, 6, 8], "close": 0, "intend": 0, "system": [0, 2], "modifi": [0, 6], "necessari": 0, "pai": 0, "particular": 0, "attent": 0, "line": [0, 4], "denable_kokkos_cuda": 0, "ON": 0, "dkokkos_arch_volta70": 0, "dkokkos_arch_power9": 0, "make": [0, 1, 5], "directori": [0, 4], "run": [0, 1, 2, 6], "type": 0, "should": [0, 5, 8], "give": 0, "simpl": [0, 6, 8], "work": [0, 1, 3, 5, 6, 7, 8], "code": [0, 2, 4, 6], "awar": 0, "doe": [0, 3], "come": 0, "caveat": 0, "most": [0, 1, 6], "notabl": 0, "one": [0, 4], "expect": 0, "maintain": 0, "per": [0, 7], "target": 0, "devic": [0, 7], "gpu": [0, 1, 3, 6], "cpu": [0, 6], "etc": 0, "where": [0, 3, 7], "abov": [0, 6], "re": 0, "current": [0, 5], "A": [0, 6], "remind": 0, "nvidia": 0, "user": [0, 1], "10": 0, "support": 0, "gcc": 0, "8": 0, "newer": 0, "we": [0, 3, 6], "recommend": 0, "us": [0, 4, 5, 6], "6": 0, "7": [0, 3, 5], "It": 0, "typic": 0, "mani": [0, 8], "differ": 0, "older": 0, "new": 0, "debug": 0, "so": [0, 3, 4, 5], "": [0, 3, 7], "worth": 0, "while": 0, "learn": 0, "how": [0, 1, 4, 8], "To": [0, 3, 4, 7], "On": 0, "can": [0, 3, 4, 6, 7], "achiev": 0, "dkokkos_enable_openmp": 0, "dkokkos_arch_knl": 0, "dkokkos_enable_cuda": 0, "from": [0, 4, 5, 6], "http": 0, "folder": 0, "execut": 0, "generate_makefil": 0, "bash": 0, "pass": [0, 7], "appropri": 0, "architectur": 0, "These": 0, "look": [0, 4], "someth": [0, 4, 6, 7], "serial": [0, 6], "openmp": [0, 3], "prefix": 0, "kokkos_install_dir": 0, "kepler30": 0, "enable_lambda": 0, "kokkos_src_dir": 0, "bin": [0, 3, 4], "nvcc_wrapper": 0, "One": 0, "cherri": 0, "pick": 0, "detail": 0, "here": 0, "ecp": 0, "copa": 0, "cabana": 0, "wiki": 0, "instruct": [0, 2, 5], "get": [0, 1, 3, 5], "ignor": [0, 3], "thing": 0, "about": [0, 3, 4, 5], "The": [0, 4, 5, 6], "advanc": 0, "review": 0, "cmakelist": 0, "txt": [0, 4], "ar": [0, 2, 5], "avail": 0, "includ": [0, 6], "enable_kokkos_openmp": 0, "enable_kokkos_cuda": 0, "build_internal_kokko": 0, "vpic_kokkos_debug": 0, "kokkos_arch": 0, "Then": 0, "when": [0, 2, 3, 5], "sure": [0, 4], "specifi": [0, 7], "cxx": [0, 5, 8], "home": 0, "tool": [0, 5], "kokkos_gpu": 0, "dcmake_build_typ": 0, "releas": 0, "note": [0, 4], "As": 0, "applic": 0, "critic": 0, "set": 0, "cmake_build_typ": 0, "other": [0, 4], "flag": [0, 3, 7], "ha": [0, 3, 5], "enabl": [0, 1, 4], "disabl": 0, "variou": 0, "automat": 0, "selct": 0, "suppli": 0, "own": [0, 8], "potenti": 0, "better": 0, "perform": [0, 2, 4], "follow": [0, 6, 8], "vpic_enable_auto_tun": 0, "control": [0, 5], "whether": 0, "determin": 0, "time": [0, 5], "vpic_enable_hierarch": 0, "off": [0, 4], "allow": 0, "finer": 0, "over": 0, "distribut": 0, "amoung": 0, "thread": 0, "certain": 0, "team": 0, "reduct": 0, "vector": [0, 2], "requir": 0, "explicit": 0, "lane": 0, "highli": 0, "depend": 0, "see": [0, 3, 5, 6], "kokkos_tun": 0, "hpp": 0, "number": [0, 4, 7], "leagu": 0, "size": 0, "vpic_enable_team_reduct": 0, "reduc": [0, 4], "atom": [0, 6], "write": [0, 5], "particl": [0, 1, 2, 4], "push": 0, "check": 0, "all": [0, 5, 6], "being": 0, "process": [0, 1], "activ": 0, "belong": 0, "same": [0, 4, 5], "cell": [0, 2], "fast": [0, 6], "regist": 0, "base": 0, "method": 0, "onli": [0, 5], "field": [0, 5, 6, 8], "vpic_enable_vector": 0, "simd": 0, "greater": 0, "vpic_enable_accumul": 0, "an": [0, 1, 5, 6], "accumul": 0, "collect": 0, "advance_p": [0, 6], "result": [0, 1], "memori": [0, 5], "access": 0, "pattern": 0, "which": [0, 5, 7], "have": [0, 4, 7, 8], "random": 0, "characterist": 0, "veri": [1, 5], "much": [1, 2, 4], "progress": 1, "still": 1, "readm": 1, "sourc": [1, 6], "nonexist": 1, "introduct": 1, "start": [1, 5], "compil": [1, 2, 3, 5], "quickstart": 1, "manual": [1, 3, 5], "instal": [1, 8], "more": 1, "power": 1, "effort": 1, "legaci": 1, "non": 1, "cmake": [1, 3], "build": [1, 2, 3], "old": 1, "version": [1, 2], "further": 1, "read": [1, 4], "optim": 1, "option": [1, 7, 8], "multipl": [1, 6], "port": 1, "kernel": 1, "postprocess": 1, "visual": 1, "boundari": [1, 4], "diagnost": [1, 4], "deck": [1, 3], "output": 1, "plot": 1, "link": 1, "mcnp": 1, "known": 1, "issu": 1, "index": 1, "search": 1, "page": [1, 4, 5], "welcom": 2, "kokko": [2, 4, 5, 7], "vpic": [2, 3, 5, 6, 8], "0": [2, 5, 6], "3d3v": 2, "fulli": 2, "relativist": 2, "kinet": 2, "first": [2, 5], "pic": 2, "solv": 2, "coupl": 2, "maxwel": 2, "boltzmann": 2, "equat": 2, "easier": 2, "document": [2, 4], "complet": 2, "For": [2, 8], "now": [2, 5], "some": [2, 4, 5, 6], "elementari": 2, "bug": [3, 6], "detect": 3, "wa": 3, "chang": 3, "faulti": 3, "far": 3, "ve": 3, "seen": 3, "NOT": 3, "12": 3, "4": 3, "11": 3, "dure": 3, "nvcc": 3, "warn": [3, 7], "multipli": 3, "defin": [3, 6], "c": [3, 4, 5, 8], "standard": [3, 8], "safe": [3, 6], "src": 3, "util": 3, "pipelin": 3, "pipelines_thread": 3, "cc": 3, "239": 3, "undefin": 3, "refer": 3, "omp_get_num_thread": 3, "becaus": [3, 6], "fopenmp": 3, "equivel": 3, "didn": 3, "t": [3, 4, 5, 6, 7], "ad": [3, 5], "happen": 3, "fail": 3, "fix": 3, "add": 3, "mont": 4, "carlo": 4, "n": [4, 7], "gener": [4, 6, 7], "purpos": 4, "transport": 4, "secondari": 4, "calcul": 4, "data": [4, 5, 6, 8], "produc": 4, "cover": 4, "exampl": [4, 5, 6], "prepar": 4, "script": 4, "post": [4, 5], "vpictomcnp": 4, "py": 4, "must": [4, 5, 6], "anglehist": 4, "angl": 4, "resolv": 4, "spectra": 4, "our": 4, "mai": [4, 5, 6, 7, 8], "avoid": 4, "length": 4, "limit": 4, "onc": [4, 8], "electronlostspec": 4, "paramet": 4, "electronanglehistparam": 4, "place": 4, "them": [4, 5, 8], "simpli": 4, "python": [4, 5, 8], "want": [4, 5, 6], "than": 4, "default": 4, "adjust": 4, "either": 4, "convert": [4, 6], "haven": 4, "deviat": 4, "mcnp6": 4, "inp": 4, "elecwbrem": 4, "task": 4, "36": 4, "again": 4, "photon": 4, "hit": [4, 5], "back": 4, "tungsten": 4, "mcnptallyspec": 4, "mctal": 4, "plotter": [4, 5], "made": 4, "normal": 4, "bit": 4, "weird": 4, "cut": 4, "electron": [4, 5], "below": [4, 6], "mev": 4, "put": [4, 5], "those": [4, 5], "also": [4, 5], "doubl": 4, "ecut": 4, "align": 4, "edg": 4, "case": 4, "record": 5, "interact": 5, "absorb": 5, "hoc": 5, "binari": 5, "interfac": 5, "postprocessor": 5, "reli": 5, "precis": 5, "layout": 5, "species_t": 5, "class": 5, "pb_diagnost": 5, "struct": 5, "member": 5, "speci": 5, "tell": [5, 7], "what": 5, "valu": [5, 6], "final": 5, "define_speci": 5, "e_c": 5, "m_e_c": 5, "max_local_np_": 5, "max_local_nm_": 5, "20": 5, "pb_diag": 5, "write_ux": 5, "write_ui": 5, "write_uz": 5, "write_weight": 5, "write_posx": 5, "write_posi": 5, "write_posz": 5, "finalize_pb_diagnost": 5, "save": 5, "float": 5, "everi": 5, "buffer": 5, "main": [5, 8], "disk": 5, "full": 5, "won": 5, "fill": 5, "up": 5, "call": [5, 6], "writer": 5, "regular": 5, "interv": 5, "user_diagnost": 5, "usual": 5, "good": [5, 8], "choic": 5, "sp": 5, "species_list": 5, "next": 5, "pbd_buff_to_disk": 5, "last": 5, "actual": 5, "written": 5, "remain": 5, "analyz": 5, "left": 5, "simul": 5, "num_step": 5, "copy_to_host": 5, "int": [5, 6], "p_index": 5, "np": 5, "pbd_write_to_buff": 5, "k_p_h": 5, "k_p_i_h": 5, "flush": 5, "There": 5, "At": [5, 8], "present": [5, 8], "extreem": 5, "assumpt": 5, "wrote": 5, "thei": 5, "well": 5, "short_puls": [5, 8], "sampl": [5, 8], "usag": 5, "ran": 5, "correctli": 5, "easi": 5, "loop": 6, "easili": 6, "long": 6, "rule": 6, "parallel": 6, "sane": 6, "wai": [6, 8], "scatter": 6, "view": 6, "handl": 6, "race": 6, "cannot": 6, "derefer": 6, "pointer": 6, "lambda": 6, "captur": 6, "variabl": 6, "mean": 6, "space": 6, "try": 6, "often": 6, "pretti": 6, "tricki": 6, "function": 6, "voxel": 6, "3d": 6, "grid": 6, "sz": 6, "intern": 6, "dereferenc": 6, "local": 6, "inject": 6, "origin": 6, "iz": 6, "nz": 6, "ii": 6, "ny": 6, "ei": 6, "prefactor": 6, "co": 6, "phase": 6, "exp": 6, "r2": 6, "global": [6, 8], "width": 6, "r2z": 6, "mask": 6, "pulse_shape_factor": 6, "_sy": 6, "sy": 6, "outsid": 6, "_sz": 6, "complex": 6, "dimens": 6, "mdrangepolici": 6, "rank": 6, "left_edg": 6, "parallel_for": 6, "kokkos_lambda": 6, "const": 6, "auto": 6, "dy": 6, "y0": 6, "5": 6, "ycenter": 6, "dz": 6, "z0": 6, "zcenter": 6, "omega_0": 6, "h": 6, "pow": 6, "macro": 6, "would": 6, "caus": 6, "illeg": 6, "defefer": 6, "instead": 6, "static": 6, "vox": 6, "ix": 6, "kfield": 6, "field_var": 6, "num": 7, "replac": 7, "ndevic": 7, "node": 7, "through": 7, "doesn": 7, "understand": 7, "thu": 7, "think": 7, "tri": 7, "peopl": 8, "uniqu": 8, "easiest": 8, "someon": 8, "who": 8, "know": 8, "ask": 8, "nice": 8, "help": 8, "hydro": 8, "pyvpic": 8, "least": 8, "import": 8, "viewer": 8, "vpc": 8, "interleav": 8, "fals": 8, "order": 8}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"compil": 0, "vpic": [0, 1, 4, 7], "quickstart": 0, "manual": 0, "kokko": [0, 1, 6], "instal": 0, "more": 0, "power": 0, "effort": 0, "legaci": 0, "non": 0, "cmake": 0, "build": 0, "old": 0, "version": 0, "further": 0, "read": 0, "optim": 0, "option": 0, "welcom": 1, "": 1, "document": 1, "content": 1, "indic": 1, "tabl": 1, "introduct": 2, "get": 2, "start": 2, "known": 3, "issu": 3, "link": 4, "mcnp": 4, "make": 4, "an": 4, "deck": [4, 5], "run": [4, 7], "plot": [4, 5], "result": [4, 5], "particl": 5, "boundari": 5, "diagnost": 5, "enabl": 5, "your": 5, "process": 5, "output": 5, "how": 6, "port": 6, "user": 6, "kernel": 6, "multipl": 7, "gpu": 7, "postprocess": 8, "visual": 8}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 56}})